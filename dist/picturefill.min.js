/*! Picturefill - v2.3.0-beta - 2015-02-25
* http://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),define(["fastdom"],function(a){return function(b,c,d){"use strict";function e(d){var e,h,i,j,k,l=d||{};e=l.elements||f.getAllElements(),a.read(function(){f.viewportWidth=Math.max(b.innerWidth||0,c.documentElement.clientWidth);for(var a=0,d=e.length;d>a;a++)h=e[a],i=h.parentNode,j=void 0,k=void 0,"IMG"===h.nodeName.toUpperCase()&&(h[f.ns]||(h[f.ns]={}),(l.reevaluate||!h[f.ns].evaluated)&&(!f.sizesSupported&&h.srcset&&g.test(h.srcset)&&f.dodgeSrcset(h),j?(k=f.processSourceSet(j),f.applyBestCandidate(k,h)):(k=f.processSourceSet(h),(void 0===h.srcset||h[f.ns].srcset)&&f.applyBestCandidate(k,h)),h[f.ns].evaluated=!0))})}if(b.HTMLPictureElement)return function(){};var f=b.picturefill||{},g=/\s+\+?\d+(e\d+)?w/;return f.ns="picturefill",function(){f.srcsetSupported="srcset"in d,f.sizesSupported="sizes"in d}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.makeUrl=function(){var a=c.createElement("a");return function(b){return a.href=b,a.href}}(),f.canMatchMedia=b.matchMedia&&b.matchMedia("(min-width: 0px)").matches,f.matchesMedia=function(a){return f.canMatchMedia?b.matchMedia&&b.matchMedia(a).matches:!0},f.getDpr=function(){return b.devicePixelRatio||1},f.getWidthFromLength=function(a){return a=a.replace("vw","%"),a=a.indexOf("%")>-1?f.viewportWidth*parseInt(a,10)*.01:parseInt(a,10)},f.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},f.findWidthFromSourceSize=function(a){for(var b,c=f.trim(a).split(/\s*,\s*/),d=0,e=c.length;e>d;d++){var g=c[d],h=f.parseSize(g),i=h.length,j=h.media;if(i&&(!j||f.matchesMedia(j))&&(b=f.getWidthFromLength(i)))break}return b||f.viewportWidth},f.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},f.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),g=f.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||f.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/g)}return c||1},f.getCandidatesFromSourceSet=function(a,b){for(var c=f.parseSrcset(a),d=[],e=0,g=c.length;g>e;e++){var h=c[e];d.push({url:h.url,resolution:f.parseDescriptor(h.descriptor,b)})}return d},f.dodgeSrcset=function(a){a.srcset&&(a[f.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[f.ns].srcset))},f.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[f.ns]&&a[f.ns].srcset&&(b=a[f.ns].srcset),b&&(d=f.getCandidatesFromSourceSet(b,c)),d},f.applyBestCandidate=function(b,c){var d,e,g;b.sort(f.ascendingSort),e=b.length,g=b[e-1];for(var h=0;e>h;h++)if(d=b[h],d.resolution>=f.getDpr()){g=d;break}g&&(g.url=f.makeUrl(g.url),c.src!==g.url&&a.write(function(){c.src=g.url,c.currentSrc=c.src}))},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.getAllElements=function(){for(var a=[],b=c.getElementsByTagName("img"),d=0,e=b.length;e>d;d++){var g=b[d];("PICTURE"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute("srcset")||g[f.ns]&&null!==g[f.ns].srcset)&&a.push(g)}return a},e._=f,e}(window,window.document,new window.Image)});
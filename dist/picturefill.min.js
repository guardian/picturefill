/*! Picturefill - v2.3.0-beta - 2015-02-23
* http://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),define(["fastdom"],function(a){return function(b,c,d){"use strict";function e(a){var c,d,e,h,i,j=a||{};c=j.elements||f.getAllElements(),b._browserWidth=f.getBrowserWidth();for(var k=0,l=c.length;l>k;k++)d=c[k],e=d.parentNode,h=void 0,i=void 0,"IMG"===d.nodeName.toUpperCase()&&(d[f.ns]||(d[f.ns]={}),(j.reevaluate||!d[f.ns].evaluated)&&(!f.sizesSupported&&d.srcset&&g.test(d.srcset)&&f.dodgeSrcset(d),h?(i=f.processSourceSet(h),f.applyBestCandidate(i,d)):(i=f.processSourceSet(d),(void 0===d.srcset||d[f.ns].srcset)&&f.applyBestCandidate(i,d)),d[f.ns].evaluated=!0))}if(b.HTMLPictureElement)return function(){};var f=b.picturefill||{},g=/\s+\+?\d+(e\d+)?w/;return f.ns="picturefill",function(){f.srcsetSupported="srcset"in d,f.sizesSupported="sizes"in d}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.makeUrl=function(){var a=c.createElement("a");return function(b){return a.href=b,a.href}}(),f.matchesMedia=function(a){return b.matchMedia&&b.matchMedia(a).matches},f.getDpr=function(){return b.devicePixelRatio||1},f.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},f.findWidthFromSourceSize=function(a){for(var d,e=f.trim(a).split(/\s*,\s*/),g=0,h=e.length;h>g;g++){var i=e[g],j=f.parseSize(i),k=j.length,l=j.media;if(k&&(!l||f.matchesMedia(l))&&(d=parseInt(k,10)))break}return d||Math.max(b.innerWidth||0,c.documentElement.clientWidth)},f.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},f.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),g=f.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||f.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/g)}return c||1},f.getCandidatesFromSourceSet=function(a,b){for(var c=f.parseSrcset(a),d=[],e=0,g=c.length;g>e;e++){var h=c[e];d.push({url:h.url,resolution:f.parseDescriptor(h.descriptor,b)})}return d},f.dodgeSrcset=function(a){a.srcset&&(a[f.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[f.ns].srcset))},f.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[f.ns]&&a[f.ns].srcset&&(b=a[f.ns].srcset),b&&(d=f.getCandidatesFromSourceSet(b,c)),d},f.setIntrinsicSize=function(){var b={},d=function(b,c,d){a.write(function(){b.setAttribute("width",parseInt(c/d,10))})};return function(a,e){var g;a[f.ns]&&(void 0===a[f.ns].dims&&(a[f.ns].dims=a.getAttribute("width")||a.getAttribute("height")),a[f.ns].dims||(b[e.url]?d(a,b[e.url],e.resolution):(g=c.createElement("img"),g.onload=function(){b[e.url]=g.width,a.src===e.url&&d(a,b[e.url],e.resolution),a=null,g.onload=null,g=null},g.src=e.url)))}}(),f.applyBestCandidate=function(b,c){var d,e,g;b.sort(f.ascendingSort),e=b.length,g=b[e-1];for(var h=0;e>h;h++)if(d=b[h],d.resolution>=f.getDpr()){g=d;break}g&&(g.url=f.makeUrl(g.url),c.src!==g.url&&a.write(function(){c.src=g.url,c.currentSrc=c.src}),f.setIntrinsicSize(c,g))},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.getAllElements=function(){for(var a=[],b=c.getElementsByTagName("img"),d=0,e=b.length;e>d;d++){var g=b[d];("PICTURE"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute("srcset")||g[f.ns]&&null!==g[f.ns].srcset)&&a.push(g)}return a},f.getBrowserWidth=function(){return window.innerWidth||document.documentElement.clientWidth||0},e._=f,e}(window,window.document,new window.Image)});